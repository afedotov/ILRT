<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ILRT by afedotov</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>ILRT</h1>
        <p>Instrumentation Log Report Tool for IBM BPM</p>

        <p class="view"><a href="https://github.com/afedotov/ILRT">View the Project on GitHub <small>afedotov/ILRT</small></a></p>


        <ul>
          <li><a href="https://github.com/afedotov/ILRT/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/afedotov/ILRT/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/afedotov/ILRT">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h4>
<a name="ilrt---what-is-it" class="anchor" href="#ilrt---what-is-it"><span class="octicon octicon-link"></span></a>ILRT - What Is It?</h4>

<p>ILRT (Instrumentation Log Report Tool) is a utility I created to help detect and diagnose performance bottlenecks of <strong>IBM WebSphere Lombardi Edition</strong> / <strong>IBM BPM</strong>, primarily in the Lombardi (BPMN processes) runtime. Lombardi process runtime has embedded instrumentation capabilities, and can record detailed system profile of every process or service activity. It is somehow described <a href="http://www-01.ibm.com/support/docview.wss?uid=swg21613989">here</a>. Ðžutput of NonXMLDump utility provided by IBM is a human-readable but in fact is a big and raw instrumentation log which is very difficult to read and analyze by hand. ILRT parse such raw text instrumentation log and then produce report with statistical information and detailed aggregate profile of expensive activities in a much more readable form.</p>

<p>Example of such report output can be viewed <a href="example-reports/inst001.report.txt?raw=true">here</a>.</p>

<blockquote>
<p>It is very first prototype created to address some common problems, so it was written quick using <strong>Ruby</strong> language. It is very helpful, works well, but not as fast as we would like. Maybe someday I'll rewrite it on something more performant, Scala for example.</p>
</blockquote>

<h4>
<a name="download" class="anchor" href="#download"><span class="octicon octicon-link"></span></a>Download</h4>

<ul>
<li>
<a href="ilrt.rb?raw=true">ilrt.rb</a> - If you on the Mac OS X, or your system has Ruby interpreter installed.</li>
<li>
<a href="ilrt.jar?raw=true">ilrt.jar</a> - It is compiled version based on JRuby, and is only required to have Java JRE to run.</li>
</ul><p>For Windows systems you can download and install Ruby from here - <a href="http://rubyinstaller.org/">http://rubyinstaller.org/</a></p>

<h4>
<a name="how-to-run" class="anchor" href="#how-to-run"><span class="octicon octicon-link"></span></a>How to Run</h4>

<p>First you should create plain text instrumentation log from binary log with <a href="http://www-01.ibm.com/support/docview.wss?uid=swg21613989">IBM provided utility</a>. Note that default values for <code>dumpIfOver</code> and <code>truncateIfOver</code> are 10000 and 20000, so if your activities has more than 10k periods, such activities will be splitted and truncated. For logs with big and expensive activities I use much more bigger values here, so nothing will be truncated.</p>

<pre><code>$ NonXMLDump inst001.dat -dumpIfOver 10000000 -truncateIfOver 10000000 &gt; inst001.txt
</code></pre>

<p>Java/JRuby version. You must set value for maximum heap with <strong>-Xmx</strong> option proportionally to instrumentation log size:</p>

<pre><code>$ java -Xmx2048m -jar ilrt.jar -f inst001.txt -p
</code></pre>

<p>Ruby version:</p>

<pre><code>$ ./ilrt.rb -f inst001.txt -p
</code></pre>

<p>After processing is completed a report will be written to the <strong>{BASENAME}.report.txt</strong> file, in this case <strong>inst001.report.txt</strong>.</p>

<h4>
<a name="other-command-line-options" class="anchor" href="#other-command-line-options"><span class="octicon octicon-link"></span></a>Other command-line options</h4>

<pre><code>Usage: ilrt [options]
    -f, --file PATH          IBM BPM Instrumentation Log File (txt format)
    -t, --top COUNT          Number of Expensive Activities to print, default = 10
    -p, --prof               Print Expensive Activities detailed profile
    -l, --level N            Expensive Activities detailed profile maximum depth level
    -s, --self               Print top self periods
    -d, --dump               Dump each Expensive Activity raw log to separate file
    -r, --rescan             Do not use cached index and forcibly rescan instrumentation log file
    -h, --help               Print help
</code></pre>

<h4>
<a name="more-info" class="anchor" href="#more-info"><span class="octicon octicon-link"></span></a>More Info</h4>

<p>More details about how to use this tool here - <a href="http://afedotov.github.io/ILRT">http://afedotov.github.io/ILRT</a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/afedotov">afedotov</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>